<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RespiraWorks Ventilator: User Interface Requirements</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RespiraWorks Ventilator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">User Interface Requirements </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The UI runs on a 1024x600 touchscreen. There are no external buttons or anything.</p>
<p>The UI requirements below come from several sources:</p><ul>
<li>Original mock-ups (the black-and-white mockups included <a href="https://www.ics.com/blog/ics-joins-respiraworks-on-ventilator-project">here</a>)</li>
<li><a href="http://demo.ics.com/ventilatorui-demo/">ICS prototype</a> that was built based on the mock-ups</li>
<li><a href="https://ccforum.biomedcentral.com/articles/10.1186/s13054-016-1431-1">This paper</a> and <a href="https://www.youtube.com/watch?v=BT3snJ1Hm2s">this demo</a></li>
<li><a href="https://docs.google.com/document/d/1QFFcg2gL3PXXzyqgSBz3XZQm_oobZ2osFuErh492UEA/edit">These notes</a> from a conversation with a respiratory therapist</li>
</ul>
<p>The list below is incomplete and possibly wrong in some ways. Please consult Valispace and the main <a href="../../requirements">Requirements page</a>. However, Valispace also does not have complete information at the time of writing. Proceed with caution.</p>
<h1><a class="anchor" id="autotoc_md413"></a>
Self-test mode</h1>
<p>On startup, ventilator is in self-test mode. It performs a set of checks and reports on the status.</p>
<p>Some checks are <b>automatic</b> _(eg that a certain tube is not blocked: turn on the blower, check that output flow sensor detects some flow)_, Some are <b>manual</b> _(eg for "the buzzer works" it needs to turn on the buzzer and ask user whether it's audible)_</p>
<p>The <b>full set of checks</b> is not yet known and generally open-ended. Checks should include <b>guidance on how to fix</b> if it failed. The self-test mode should be easy to use _(the hospital where the therapist above works decided not to purchase vents where it was too cumbersome)_. Results of self-test should be retained in memory.</p>
<p><b>Open questions:</b></p><ul>
<li>Should you be able to perform self-test only on startup or at any time?</li>
<li>Should you confirm that patient is not connected?</li>
<li>Should device refuse to operate if a check fails?</li>
</ul>
<p>See also <a href="https://github.com/RespiraWorks/Ventilator/issues/307">https://github.com/RespiraWorks/Ventilator/issues/307</a>.</p>
<h1><a class="anchor" id="autotoc_md414"></a>
Ventilation modes</h1>
<p>We intend to support <b>Command <a class="el" href="classPressure.html">Pressure</a></b> _(device commands all breaths)_, <b><a class="el" href="classPressure.html">Pressure</a> Assist</b> _(device detects inhale effort and helps that breath, but also initiates breaths if patient doesn't)_, <b>CPAP with O2 therapy aka HFNC</b> _(light constant positive O2-saturated air pressure, non-invasive)_.</p>
<p><em>Note: Different sources seem to indicate that pressure-controlled modes are going out of favor and volume control is preferable (regular - not PRVC or VC+) - eg see <a href="https://docs.google.com/document/d/1QFFcg2gL3PXXzyqgSBz3XZQm_oobZ2osFuErh492UEA/edit">notes</a>. But for v0.2 we're doing pressure control.</em></p>
<p><b>Mode parameters</b>: Each mode has several parameters defining it, e.g. Respiratory Rate, PIP (Peak Inspiratory <a class="el" href="classPressure.html">Pressure</a>), PEEP (Positive End-Expiratory <a class="el" href="classPressure.html">Pressure</a>), FiO2 (O2 percentage). Parameter changes must be confirmed before taking effect.</p>
<p><b>Displayed measurements</b>: In each mode we display real-time graphs and sensor readings of several measured values: pressure, flow, volume.</p>
<p><b>Measured vs. commanded values</b>: All or almost all values have a "commanded" and "measured" value. E.g. ventilator tries to achieve a certain PIP - this is the "commanded" value - but what it actually achieves is the "measured" value. If they're too far off, this is bad and usually triggers an alarm.</p>
<h1><a class="anchor" id="autotoc_md415"></a>
Alarms</h1>
<p><b>Alarm formats:</b></p><ul>
<li><a href="https://docs.google.com/document/d/1bMZfkq_p8dkg7F0ZGVIFhityv-s3GVRMsm_Nd1zNlww/edit#heading=h.yvoratpyj4xl">https://docs.google.com/document/d/1bMZfkq_p8dkg7F0ZGVIFhityv-s3GVRMsm_Nd1zNlww/edit#heading=h.yvoratpyj4xl</a></li>
<li>Specifies visual flashing frequency / duty cycle</li>
<li>Specifies auditory pulse frequency / pattern</li>
<li>Derived from 60601-1-8</li>
</ul>
<p><b>Alarm conditions:</b> The main alarm types for v0.2 are **"measured value too far from commanded value"** and **"the device is in a bad
state"** _(eg some tube disconnected, battery low etc)_.</p>
<p>Consider a **"check settings"** alarm. Per <a href="https://docs.google.com/document/d/1QFFcg2gL3PXXzyqgSBz3XZQm_oobZ2osFuErh492UEA/edit">notes</a> drs check settings every 3-6 hours, so maybe we should issue a low-prio alarm if settings haven't been confirmed in longer than that.</p>
<p><b>Alarm presentation:</b></p><ul>
<li>Alarms are indicated visually and sometimes audially (buzzer, continuous tone).</li>
<li>A good way to display the "measured value off" alarm is to color the wrong value's background.</li>
<li>At any moment the GUI must display the highest-priority alarm.</li>
<li>You should be able to see all active alarms</li>
</ul>
<p><b>Alarm priorities:</b> low, medium, high (buzzer), and one or two alarms emit a continuous beep.</p>
<p><b>Alarm lifecycle:</b></p><ul>
<li>The alarm becomes active when its condition is met.</li>
<li>Open question: We haven't figured out a general rule for when an alarm stops being active.</li>
<li>Alarms can be suppressed in several ways: eg. cancel a particular alarm _(we don't know exactly what this means)_, suspend all audial alarms for 2 minutes, etc. (see <code>01_Alarms</code> in Valispace)</li>
</ul>
<p><b>General advice:</b></p><ul>
<li>Alarm fatigue is real. Need to make alarm management simple and conductive towards minimizing fatigue.</li>
</ul>
<p><b>Additional alarms per ISO 80601-2-12:</b> (See <a href="https://respiraworks.slack.com/archives/C011UMNUWGZ/p1591500042061800?thread_ts=1591207530.031400&amp;cid=C011UMNUWGZ">Slack thread</a>) <img src="https://i.imgur.com/DJqVFaL.png" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md416"></a>
Event logs (not in v0.2)</h1>
<p>GUI must include a way to view the event log. It must include:</p><ul>
<li>All alarm-related events (activated, cancelled etc)</li>
<li>Confirmed parameter changes and mode changes</li>
</ul>
<h1><a class="anchor" id="autotoc_md417"></a>
Non-functional requirements</h1>
<p>The screen resolution is 1024x600.</p>
<p><b>Remote observation/control</b></p><ul>
<li>Things must be <b>visible from a distance of N meters</b>. The Covent reqs say from 1 meter, but per <a href="https://docs.google.com/document/d/1QFFcg2gL3PXXzyqgSBz3XZQm_oobZ2osFuErh492UEA/edit">notes</a> drs often want to observe the screen from outside the patient's room, to decrease exposure to infection.</li>
<li>Nice-to-have: remote control - also to decrease exposure.</li>
</ul>
<p><b>Usability:</b></p><ul>
<li>Errors can kill a patient, and the UI is used by overworked staff. It is very important to design for minimizing chance of human error and minimizing dr fatigue.</li>
<li>Staff in target markets where there's no vents will be inexperienced with vents. UI should help them, eg understand the numbers, guide towards configuring things right.<ul>
<li>Example: in volume-controlled modes, there's an ideal volume of 4-8mL per kg of ideal body weight (based on gender/height). Could set default volume by that and color-code if setting outside this range.</li>
</ul>
</li>
</ul>
<p>Consider the likely working conditions - need a dark theme (optionally light theme too).</p>
<p>The UI should be colorblind-friendly, at least for elements where discerning the color is safety-critical. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
